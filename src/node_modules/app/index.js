// @flow
import 'tachyons';
import 'app/common/base.css';
import React from 'react';
import ReactDOM from 'react-dom';
import { BrowserRouter as Router, Route, Link } from 'react-router-dom';
import { ApolloProvider } from 'react-apollo';
import App from 'app/components/app/App';
import SignUp from 'app/components/signUp/SignUp';
import createApolloClient from 'app/boot/createApolloClient';
import createFinalStore from 'app/boot/createFinalStore';

const apolloClient = createApolloClient();
const store = createFinalStore({ apolloClient });

const NavBar = () => (
  <ul>
    <li><Link to="/">Home</Link></li>
    <li><Link to="/signup">Sign Up</Link></li>
  </ul>
);

// TODO: Create RoutesComponent using createRoutesComponentFromConfig(routesConfig)

ReactDOM.render(
  <ApolloProvider store={store} client={apolloClient}>
    <Router>
      <div>
        <NavBar />
        <Route path="/" component={App} />
        <Route path="/signup" component={SignUp} />
      </div>
    </Router>
  </ApolloProvider>,
  document.getElementById('root')
);
